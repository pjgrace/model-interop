<?xml version="1.0"?>
<pattern xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation ="Pattern.xsd">
	<patterndata>
		<data>
			<name>id</name>
			<value>csr-597675393</value>
		</data>
		<data>
			<name>full-id</name>
			<value>/in-cse/csr-597675393</value>
		</data>
	</patterndata>
	<architecture>		
		<component>
			<id>AE</id>
			<address>192.9.206.122</address>
		</component>		
		<component>
			<id>CSE</id>
			<address>127.0.0.1</address>
				<interface>
					<id>rest1</id>
					<url>http://127.0.0.1:8080/</url>
					<protocol>http</protocol>
				</interface>
		</component>
	</architecture>
	<behaviour>		
		<state>
			<label>triggerstart</label>
			<type>triggerstart</type>
			<transition>
				<to>normal</to>
				<message>
					<url>component.CSE.rest1</url>
					<path>~$$patterndata.full-id$$</path>
					<method>GET</method>
					<type>XML</type>
					<headers>
						<header>
							<name>Accept</name>
							<value>application/xml</value>
						</header>
						<header>
							<name>X-M2M-Origin</name>
							<value>admin:admin</value>
						</header>
						<header>
							<name>X-M2M-RI</name>
							<value>$$patterndata.id$$</value>
						</header>
					</headers>
					<body><![CDATA[]]></body>
				</message>
			</transition>
		</state>		
		<state>
			<label>normal</label>
			<type>normal</type>
			<transition>
				<to>end</to>
				<guards>
					<contains>
						<param>content[/]</param>
						<value>m2m:csr</value>
					</contains>
					<contains>
						<param>content[/*[local-name()='csr']]</param>
						<value>ri</value>
					</contains>
					<equal>
						<param>content[/*[local-name()='csr']/ri]</param>
						<value>$$patterndata.full-id$$</value>
					</equal>
					<equal>
						<param>content[/*[local-name()='csr']/pi]</param>
						<value>/in-cse</value>
					</equal>
					<equal>
						<param>content[/*[local-name()='csr']/csi]</param>
						<value>/mn-cse</value>
					</equal>
					<equal>
						<param>content[/*[local-name()='csr']/ty]</param>
						<value>16</value>
					</equal>
					<equal>
						<param>HTTP.code</param>
						<value>200</value>
					</equal>
					<equal>
						<param>HTTP.to</param>
						<value>component.AE.address</value>
					</equal>
					<equal>
						<param>HTTP.from</param>
						<value>component.CSE.address</value>
					</equal>
					<equal>
						<param>HTTP.msg</param>
						<value>REPLY</value>
					</equal>
					<equal>
						<param>HTTP.X-M2M-RI</param>
						<value>$$patterndata.id$$</value>
					</equal>
					<equal>
						<param>HTTP.X-M2M-RSC</param>
						<value>2000</value>
					</equal>
					<equal>
						<param>HTTP.content-type</param>
						<value>application/xml;charset=ISO-8859-1</value>
					</equal>
				</guards>
			</transition>
		</state>		
		<state>
			<label>end</label>
			<type>end</type>
			<success>true</success>
			<report>Compliance testing successful.</report>
		</state>
	</behaviour>
</pattern>